= 
:allow-uri-read: 


[role="tabbed-block"]
====
.CVO-Einzelknotenbereitstellung
--
.Terraform-Konfigurationsdateien für die Bereitstellung von NetApp CVO (Single Node Instance) auf GCP
Dieser Abschnitt enthält verschiedene Terraform-Konfigurationsdateien zum Bereitstellen/Konfigurieren eines einzelnen Knotens von NetApp CVO (Cloud Volumes ONTAP) auf GCP (Google Cloud Platform).

Terraform-Dokumentation: https://registry.terraform.io/providers/NetApp/netapp-cloudmanager/latest/docs[]

.Verfahren
So führen Sie die Vorlage aus:

. Klonen Sie das Repository.
+
[source, cli]
----
    git clone https://github.com/NetApp/na_cloud_volumes_automation.git
----
. Navigieren Sie zum gewünschten Ordner
+
[source, cli]
----
    cd na_cloud_volumes_automation/
----
. Speichern Sie die JSON-Datei des GCP-Authentifizierungsschlüssels im Verzeichnis.
. Aktualisieren Sie die Variablenwerte in `vars/gcp_cvo_single_node_deployment.tfvar`
+

NOTE: Sie können den Connector bereitstellen, indem Sie den Wert der Variable „gcp_connector_deploy_bool“ auf „true“/„false“ setzen.

. Initialisieren Sie das Terraform-Repository, um alle Voraussetzungen zu installieren und die Bereitstellung vorzubereiten.
+
[source, cli]
----
    terraform init
----
. Überprüfen Sie die Terraform-Dateien mit dem Befehl „Terraform validate“.
+
[source, cli]
----
    terraform validate
----
. Führen Sie einen Probelauf der Konfiguration durch, um eine Vorschau aller durch die Bereitstellung erwarteten Änderungen zu erhalten.
+
[source, cli]
----
    terraform plan -target="module.gco_single_node" -var-file="vars/gcp_cvo_single_node_deployment.tfvars"
----
. Ausführen der Bereitstellung
+
[source, cli]
----
    terraform apply -target="module.gcp_single_node" -var-file="vars/gcp_cvo_single_node_deployment.tfvars"
----


So löschen Sie die Bereitstellung

[source, cli]
----
    terraform destroy
----
.Rezepte:
`Connector`

Terraform-Variablen für die NetApp GCP-Connector-Instanz für die CVO-Bereitstellung.

[cols="20%, 10%, 70%"]
|===
| *Name* | *Typ* | *Beschreibung* 


| *gcp_connector_deploy_bool* | Bool | (Erforderlich) Überprüfen Sie die Connector-Bereitstellung. 


| *gcp_connector_name* | Zeichenfolge | (Erforderlich) Der Name des Cloud Manager Connector. 


| *gcp_connector_project_id* | Zeichenfolge | (Erforderlich) Die GCP-Projekt-ID, unter der der Connector erstellt wird. 


| *gcp_connector_zone* | Zeichenfolge | (Erforderlich) Die GCP-Zone, in der der Connector erstellt wird. 


| *gcp_connector_company* | Zeichenfolge | (Erforderlich) Der Name des Unternehmens des Benutzers. 


| *gcp_connector_service_account_email* | Zeichenfolge | (Erforderlich) Die E-Mail des Servicekontos für die Connector-Instanz.  Dieses Dienstkonto wird verwendet, um dem Connector die Erstellung von Cloud Volume ONTAP zu ermöglichen. 


| *gcp_connector_service_account_path* | Zeichenfolge | (Erforderlich) Der lokale Pfad der JSON-Datei „service_account“ für GCP-Autorisierungszwecke.  Dieses Dienstkonto wird zum Erstellen des Connectors in GCP verwendet. 


| *gcp_connector_account_id* | Zeichenfolge | (Optional) Die NetApp -Konto-ID, mit der der Connector verknüpft wird.  Wenn nicht angegeben, verwendet Cloud Manager das erste Konto.  Wenn kein Konto vorhanden ist, erstellt Cloud Manager ein neues Konto.  Sie finden die Konto-ID auf der Registerkarte „Konto“ von Cloud Manager unter https://cloudmanager.netapp.com[] . 
|===
`Single Node Instance`

Terraform-Variablen für eine einzelne NetApp CVO-Instanz auf GCP.

[cols="20%, 10%, 70%"]
|===
| *Name* | *Typ* | *Beschreibung* 


| *gcp_cvo_name* | Zeichenfolge | (Erforderlich) Der Name der Cloud Volumes ONTAP Arbeitsumgebung. 


| *gcp_cvo_Projekt-ID* | Zeichenfolge | (Erforderlich) Die ID des GCP-Projekts. 


| *gcp_cvo_zone* | Zeichenfolge | (Erforderlich) Die Zone der Region, in der die Arbeitsumgebung erstellt wird. 


| *gcp_cvo_gcp_service_account* | Zeichenfolge | (Erforderlich) Die E-Mail-Adresse des gcp_service_accounts, um die Einstufung kalter Daten in Google Cloud Storage zu ermöglichen. 


| *gcp_cvo_svm_password* | Zeichenfolge | (Erforderlich) Das Administratorkennwort für Cloud Volumes ONTAP. 


| *gcp_cvo_Arbeitsbereichs-ID* | Zeichenfolge | (Optional) Die ID des Cloud Manager-Arbeitsbereichs, in dem Sie Cloud Volumes ONTAP bereitstellen möchten.  Wenn nicht angegeben, verwendet Cloud Manager den ersten Arbeitsbereich.  Sie finden die ID auf der Registerkarte „Arbeitsbereich“ auf https://cloudmanager.netapp.com[] . 


| *gcp_cvo_Lizenztyp* | Zeichenfolge | (Optional) Der zu verwendende Lizenztyp.  Für einzelnen Knoten: ['capacity-paygo', 'gcp-cot-explore-paygo', 'gcp-cot-standard-paygo', 'gcp-cot-premium-paygo', 'gcp-cot-premium-byol'], Für HA: ['ha-capacity-paygo', 'gcp-ha-cot-explore-paygo', 'gcp-ha-cot-standard-paygo', 'gcp-ha-cot-premium-paygo', 'gcp-ha-cot-premium-byol'].  Der Standardwert ist „capacity-paygo“ für einzelne Knoten und „ha-capacity-paygo“ für HA. 


| *gcp_cvo_Kapazitätspaketname* | Zeichenfolge | (Optional) Der Name des Kapazitätspakets: ['Essential', 'Professional', 'Freemium'].  Die Standardeinstellung ist „Essential“. 
|===
--
.CVO HA-Bereitstellung
--
.Terraform-Konfigurationsdateien für die Bereitstellung von NetApp CVO (HA-Paar) auf GCP
Dieser Abschnitt enthält verschiedene Terraform-Konfigurationsdateien zum Bereitstellen/Konfigurieren von NetApp CVO (Cloud Volumes ONTAP) in einem Hochverfügbarkeitspaar auf GCP (Google Cloud Platform).

Terraform-Dokumentation: https://registry.terraform.io/providers/NetApp/netapp-cloudmanager/latest/docs[]

.Verfahren
So führen Sie die Vorlage aus:

. Klonen Sie das Repository.
+
[source, cli]
----
    git clone https://github.com/NetApp/na_cloud_volumes_automation.git
----
. Navigieren Sie zum gewünschten Ordner
+
[source, cli]
----
    cd na_cloud_volumes_automation/
----
. Speichern Sie die JSON-Datei des GCP-Authentifizierungsschlüssels im Verzeichnis.
. Aktualisieren Sie die Variablenwerte in `vars/gcp_cvo_ha_deployment.tfvars` .
+

NOTE: Sie können den Connector bereitstellen, indem Sie den Wert der Variable „gcp_connector_deploy_bool“ auf „true“/„false“ setzen.

. Initialisieren Sie das Terraform-Repository, um alle Voraussetzungen zu installieren und die Bereitstellung vorzubereiten.
+
[source, cli]
----
      terraform init
----
. Überprüfen Sie die Terraform-Dateien mit dem Befehl „Terraform validate“.
+
[source, cli]
----
    terraform validate
----
. Führen Sie einen Probelauf der Konfiguration durch, um eine Vorschau aller durch die Bereitstellung erwarteten Änderungen zu erhalten.
+
[source, cli]
----
    terraform plan -target="module.gcp_ha" -var-file="vars/gcp_cvo_ha_deployment.tfvars"
----
. Ausführen der Bereitstellung
+
[source, cli]
----
    terraform apply -target="module.gcp_ha" -var-file="vars/gcp_cvo_ha_deployment.tfvars"
----


So löschen Sie die Bereitstellung

[source, cli]
----
    terraform destroy
----
.Rezepte:
`Connector`

Terraform-Variablen für die NetApp GCP-Connector-Instanz für die CVO-Bereitstellung.

[cols="20%, 10%, 70%"]
|===
| *Name* | *Typ* | *Beschreibung* 


| *gcp_connector_deploy_bool* | Bool | (Erforderlich) Überprüfen Sie die Connector-Bereitstellung. 


| *gcp_connector_name* | Zeichenfolge | (Erforderlich) Der Name des Cloud Manager Connector. 


| *gcp_connector_project_id* | Zeichenfolge | (Erforderlich) Die GCP-Projekt-ID, unter der der Connector erstellt wird. 


| *gcp_connector_zone* | Zeichenfolge | (Erforderlich) Die GCP-Zone, in der der Connector erstellt wird. 


| *gcp_connector_company* | Zeichenfolge | (Erforderlich) Der Name des Unternehmens des Benutzers. 


| *gcp_connector_service_account_email* | Zeichenfolge | (Erforderlich) Die E-Mail des Servicekontos für die Connector-Instanz.  Dieses Dienstkonto wird verwendet, um dem Connector die Erstellung von Cloud Volume ONTAP zu ermöglichen. 


| *gcp_connector_service_account_path* | Zeichenfolge | (Erforderlich) Der lokale Pfad der JSON-Datei „service_account“ für GCP-Autorisierungszwecke.  Dieses Dienstkonto wird zum Erstellen des Connectors in GCP verwendet. 


| *gcp_connector_account_id* | Zeichenfolge | (Optional) Die NetApp -Konto-ID, mit der der Connector verknüpft wird.  Wenn nicht angegeben, verwendet Cloud Manager das erste Konto.  Wenn kein Konto vorhanden ist, erstellt Cloud Manager ein neues Konto.  Sie finden die Konto-ID auf der Registerkarte „Konto“ von Cloud Manager unter https://cloudmanager.netapp.com[] . 
|===
`HA Pair`

Terraform-Variablen für NetApp CVO-Instanzen im HA-Paar auf GCP.

[cols="20%, 10%, 70%"]
|===
| *Name* | *Typ* | *Beschreibung* 


| *gcp_cvo_is_ha* | Bool | (Optional) Geben Sie an, ob die Arbeitsumgebung ein HA-Paar ist oder nicht [true, false].  Der Standardwert ist „false“. 


| *gcp_cvo_name* | Zeichenfolge | (Erforderlich) Der Name der Cloud Volumes ONTAP Arbeitsumgebung. 


| *gcp_cvo_Projekt-ID* | Zeichenfolge | (Erforderlich) Die ID des GCP-Projekts. 


| *gcp_cvo_zone* | Zeichenfolge | (Erforderlich) Die Zone der Region, in der die Arbeitsumgebung erstellt wird. 


| *gcp_cvo_node1_zone* | Zeichenfolge | (Optional) Zone für Knoten 1. 


| *gcp_cvo_node2_zone* | Zeichenfolge | (Optional) Zone für Knoten 2. 


| *gcp_cvo_mediator_zone* | Zeichenfolge | (Optional) Zone für Mediator. 


| *gcp_cvo_vpc_id* | Zeichenfolge | (Optional) Der Name der VPC. 


| *gcp_cvo_subnet_id* | Zeichenfolge | (Optional) Der Name des Subnetzes für Cloud Volumes ONTAP.  Der Standardwert ist: „Standard“. 


| *gcp_cvo_vpc0_node_and_data_connectivity* | Zeichenfolge | (Optional) VPC-Pfad für nic1, erforderlich für Knoten- und Datenkonnektivität.  Bei Verwendung einer gemeinsam genutzten VPC muss die netwrok_project_id angegeben werden. 


| *gcp_cvo_vpc1_cluster_connectivity* | Zeichenfolge | (Optional) VPC-Pfad für nic2, erforderlich für die Cluster-Konnektivität. 


| *gcp_cvo_vpc2_ha_connectivity* | Zeichenfolge | (Optional) VPC-Pfad für nic3, erforderlich für HA-Konnektivität. 


| *gcp_cvo_vpc3_data_replication* | Zeichenfolge | (Optional) VPC-Pfad für nic4, erforderlich für die Datenreplikation. 


| *gcp_cvo_subnet0_node_and_data_connectivity* | Zeichenfolge | (Optional) Subnetzpfad für nic1, erforderlich für Knoten- und Datenkonnektivität.  Bei Verwendung einer gemeinsam genutzten VPC muss die netwrok_project_id angegeben werden. 


| *gcp_cvo_subnet1_cluster_connectivity* | Zeichenfolge | (Optional) Subnetzpfad für nic2, erforderlich für die Clusterkonnektivität. 


| *gcp_cvo_subnet2_ha_connectivity* | Zeichenfolge | (Optional) Subnetzpfad für nic3, erforderlich für HA-Konnektivität. 


| *gcp_cvo_subnet3_data_replication* | Zeichenfolge | (Optional) Subnetzpfad für nic4, erforderlich für die Datenreplikation. 


| *gcp_cvo_gcp_service_account* | Zeichenfolge | (Erforderlich) Die E-Mail-Adresse des gcp_service_accounts, um die Einstufung kalter Daten in Google Cloud Storage zu ermöglichen. 


| *gcp_cvo_svm_password* | Zeichenfolge | (Erforderlich) Das Administratorkennwort für Cloud Volumes ONTAP. 


| *gcp_cvo_Arbeitsbereichs-ID* | Zeichenfolge | (Optional) Die ID des Cloud Manager-Arbeitsbereichs, in dem Sie Cloud Volumes ONTAP bereitstellen möchten.  Wenn nicht angegeben, verwendet Cloud Manager den ersten Arbeitsbereich.  Sie finden die ID auf der Registerkarte „Arbeitsbereich“ auf https://cloudmanager.netapp.com[] . 


| *gcp_cvo_Lizenztyp* | Zeichenfolge | (Optional) Der zu verwendende Lizenztyp.  Für einzelnen Knoten: ['capacity-paygo', 'gcp-cot-explore-paygo', 'gcp-cot-standard-paygo', 'gcp-cot-premium-paygo', 'gcp-cot-premium-byol'], Für HA: ['ha-capacity-paygo', 'gcp-ha-cot-explore-paygo', 'gcp-ha-cot-standard-paygo', 'gcp-ha-cot-premium-paygo', 'gcp-ha-cot-premium-byol'].  Der Standardwert ist „capacity-paygo“ für einzelne Knoten und „ha-capacity-paygo“ für HA. 


| *gcp_cvo_Kapazitätspaketname* | Zeichenfolge | (Optional) Der Name des Kapazitätspakets: ['Essential', 'Professional', 'Freemium'].  Die Standardeinstellung ist „Essential“. 


| *gcp_cvo_gcp_volume_size* | Zeichenfolge | (Optional) Die GCP-Volumegröße für das erste Datenaggregat.  Für GB kann die Einheit sein: [100 oder 500].  Für TB kann die Einheit sein: [1,2,4,8].  Der Standardwert ist „1“. 


| *gcp_cvo_gcp_Volume_Größeneinheit* | Zeichenfolge | (Optional) ['GB' oder 'TB'].  Der Standardwert ist „TB“. 
|===
--
.NetApp Volumes Volume
--
.Terraform-Konfigurationsdateien für die Bereitstellung von NetApp Volumes Volume auf GCP
Dieser Abschnitt enthält verschiedene Terraform-Konfigurationsdateien zum Bereitstellen/Konfigurieren von NetApp Volumes (Google Cloud NetApp Volumes) auf GCP (Google Cloud Platform).

Terraform-Dokumentation: https://registry.terraform.io/providers/NetApp/netapp-gcp/latest/docs[]

.Verfahren
So führen Sie die Vorlage aus:

. Klonen Sie das Repository.
+
[source, cli]
----
    git clone https://github.com/NetApp/na_cloud_volumes_automation.git
----
. Navigieren Sie zum gewünschten Ordner
+
[source, cli]
----
    cd na_cloud_volumes_automation/
----
. Speichern Sie die JSON-Datei des GCP-Authentifizierungsschlüssels im Verzeichnis.
. Aktualisieren Sie die Variablenwerte in `vars/gcp_cvs_volume.tfvars` .
. Initialisieren Sie das Terraform-Repository, um alle Voraussetzungen zu installieren und die Bereitstellung vorzubereiten.
+
[source, cli]
----
      terraform init
----
. Überprüfen Sie die Terraform-Dateien mit dem Befehl „Terraform validate“.
+
[source, cli]
----
    terraform validate
----
. Führen Sie einen Probelauf der Konfiguration durch, um eine Vorschau aller durch die Bereitstellung erwarteten Änderungen zu erhalten.
+
[source, cli]
----
    terraform plan -target="module.gcp_cvs_volume" -var-file="vars/gcp_cvs_volume.tfvars"
----
. Ausführen der Bereitstellung
+
[source, cli]
----
    terraform apply -target="module.gcp_cvs_volume" -var-file="vars/gcp_cvs_volume.tfvars"
----


So löschen Sie die Bereitstellung

[source, cli]
----
    terraform destroy
----
.Rezepte:
`NetApp Volumes Volume`

Terraform-Variablen für NetApp GCP NetApp Volumes Volume.

[cols="20%, 10%, 70%"]
|===
| *Name* | *Typ* | *Beschreibung* 


| *gcp_cvs_name* | Zeichenfolge | (Erforderlich) Der Name des NetApp Volumes-Volumes. 


| *gcp_cvs_Projekt-ID* | Zeichenfolge | (Erforderlich) Die GCP-Projekt-ID, unter der das NetApp Volumes-Volume erstellt wird. 


| *gcp_cvs_gcp_service_account_path* | Zeichenfolge | (Erforderlich) Der lokale Pfad der JSON-Datei „service_account“ für GCP-Autorisierungszwecke.  Dieses Dienstkonto wird zum Erstellen des NetApp Volumes-Volumes in GCP verwendet. 


| *gcp_cvs_region* | Zeichenfolge | (Erforderlich) Die GCP-Zone, in der das NetApp Volumes-Volume erstellt wird. 


| *gcp_cvs_network* | Zeichenfolge | (Erforderlich) Die Netzwerk-VPC des Datenträgers. 


| *gcp_cvs_size* | Ganze Zahl | (Erforderlich) Die Größe des Datenträgers liegt zwischen 1024 und 102400 (einschließlich) (in GiB). 


| *gcp_cvs_volume_pfad* | Zeichenfolge | (Optional) Der Name des Volumepfads für das Volume. 


| *gcp_cvs_Protokolltypen* | Zeichenfolge | (Erforderlich) Der Protokolltyp des Datenträgers.  Verwenden Sie für NFS „NFSv3“ oder „NFSv4“ und für SMB „CIFS“ oder „SMB“. 
|===
--
====